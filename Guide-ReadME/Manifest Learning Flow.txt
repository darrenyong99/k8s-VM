â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
STAGE 0 : VM PREP & NETWORK SETUP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Create two VMs (RHEL master, CentOS worker)
â€¢ Use Bridge Adapter â†’ ensure both can ping each other
â€¢ Disable swap, configure sysctl for Kubernetes

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
STAGE 1 : INSTALLATION FLOW (USING KUBEADM)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
MASTER NODE:
   kubeadm init --pod-network-cidr=10.244.0.0/16
        â†“
   setup kubeconfig (~/.kube/config)
        â†“sudo swapoff -a
sudo sed -i '/swap/d' /etc/fstab

   install CNI plugin (Flannel/Calico)
        â†“
   verify `kubectl get nodes`

WORKER NODE:
   kubeadm join <master-ip>:6443 --token <token> ...
        â†“
   verify node joins successfully
        â†“
   cluster is READY âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
STAGE 2 : CLUSTER TEST & MANIFEST LEARNING (DEVOPS LAB)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Stage A] Connectivity Test

â†’ Test cluster network, nodes, and pod communication.
â†’ Verify DNS and API accessibility (nslookup kubernetes.default).
â†’ Confirm metrics and monitoring tools are functional.

[Stage B] Pod

â†’ Create a simple Nginx Pod to understand container basics.
â†’ Test pod logs, port access, and lifecycle.
â†’ Validate pod YAML structure and troubleshooting (kubectl describe pod).

[Stage C] Service

â†’ Expose Pods using ClusterIP and NodePort types.
â†’ Test internal and external access (curl <NodeIP>:<port>).
â†’ Understand service discovery and endpoint listing.

[Stage D] Deployment

â†’ Manage replicas and perform rolling updates.
â†’ Practice image updates and rollback.
â†’ Test application scaling and zero-downtime deployment.

[Stage E] ConfigMap & Secret (MongoDB Integration)

â†’ Inject non-sensitive configs via ConfigMap (e.g. MONGO_INITDB_DATABASE).
â†’ Secure credentials using Kubernetes Secret (encoded username/password).
â†’ Deploy MongoDB with envFrom linking to ConfigMap and Secret.
â†’ Test connectivity between Nginx frontend â†” MongoDB backend using internal service.
â†’ Learn secret best practices:

Use Base64-encoded values only (no plaintext in Git).

Apply RBAC rules to restrict access to secrets.

(Optional) Integrate with external secret managers (Vault, SOPS).

[Stage F] Persistent Volume & PVC

â†’ Configure PV and PVC for MongoDB data persistence.
â†’ Mount storage (/data/db) inside MongoDB container.
â†’ Verify data survives pod restarts.
â†’ Explore hostPath vs dynamic storage class.

[Stage G] Namespace & RBAC

â†’ Isolate MongoDB in its own namespace (e.g., database).
â†’ Create Role and RoleBinding for limited access (e.g., read-only).
â†’ Learn how user/service accounts interact with RBAC policies.
â†’ Test restricted access with different users.

[Stage H] Ingress (Optional)

â†’ Configure Ingress Controller (e.g. NGINX Ingress).
â†’ Route external HTTP traffic to multiple backend services.
â†’ Add virtual host routing (e.g. mylab.local).
â†’ Use annotations for rewrite-target or TLS setup.
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FINAL RESULT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ§© Fully functional 2-node Kubernetes cluster
  ğŸ§  Able to practice all core manifest types
  ğŸ” Learn DevOps workflow: Build â†’ Deploy â†’ Manage â†’ Secure
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
